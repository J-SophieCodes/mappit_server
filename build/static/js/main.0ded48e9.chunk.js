(this.webpackJsonpnaborly_client=this.webpackJsonpnaborly_client||[]).push([[0],{23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(5),o=n.n(c),s=(n(23),n(4)),a=n(3),l=n(1),d=function(e){var t=e.selected,n=e.setSelected,r=e.setCenter;return Object(l.jsx)("div",{id:"modal",children:t.latitude&&Object(l.jsx)(a.c,{onLoad:function(){return r({lat:t.latitude,lng:t.longitude})},position:{lat:t.latitude,lng:t.longitude},onCloseClick:function(){return n({})},children:Object(l.jsxs)("div",{style:{padding:5},children:[Object(l.jsx)("h3",{children:t.name}),Object(l.jsxs)("h4",{children:[t.city,", ",t.country]}),Object(l.jsxs)("p",{children:["Lease Term: ",t.lease_term_months," months"]}),Object(l.jsxs)("p",{children:["Monthly Rate: $",t.monthly_rate]}),Object(l.jsx)("p",{children:t.total_views})]})})})},u=function(e){var t=e.properties,n=null===t||void 0===t?void 0:t.map((function(e){return{location:new window.google.maps.LatLng(e.latitude,e.longitude),weight:e.total_views/3e3}}));return Object(l.jsx)(a.b,{data:n,options:{dissipating:!1,radius:1,maxIntensity:50}})},j=function(e){var t=e.properties,n=e.setSelected;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(a.e,{position:{lat:e.latitude,lng:e.longitude},onClick:function(){return n(e)}},e._id)}))})},p=n(8),h=n.n(p);function b(e){var t=e.response;t&&t.data&&t.data.error?console.error("HTTP Error: ".concat(t.data.error)):console.error("Error: ",e)}function O(e){return e.data}h.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",h.a.defaults.headers.common.Accept="application/json";var g={getProperties:function(e){return h.a.get("/api/properties").then(O).then(e).catch(b)}},x=["visualization"];var f=function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),p=o[0],h=o[1],b=Object(r.useState)({lat:43.641382,lng:-79.431819}),O=Object(s.a)(b,2),f=O[0],m=O[1];return Object(r.useEffect)((function(){g.getProperties((function(e){return h(e)}))}),[]),Object(l.jsx)("div",{id:"App",children:Object(l.jsx)(a.d,{googleMapsApiKey:"AIzaSyCBVpAC8wFtAVox-4Xev_HOcsqe1Xhd1-s",libraries:x,children:Object(l.jsxs)(a.a,{mapContainerStyle:{width:"100vw",height:"100vh"},center:f,zoom:10,children:[Object(l.jsx)(j,{properties:p,setSelected:i}),Object(l.jsx)(d,{selected:n,setSelected:i,setCenter:m}),Object(l.jsx)(u,{properties:p})]})})})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0ded48e9.chunk.js.map