(this.webpackJsonpmappit_client=this.webpackJsonpmappit_client||[]).push([[0],{23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(5),a=n.n(c),s=(n(23),n(3)),o=n(4),l=n(1),u=function(e){var t=e.selected,n=e.setSelected,r=e.setCenter;return Object(l.jsx)("div",{id:"modal",children:t.latitude&&Object(l.jsx)(o.c,{onLoad:function(){return r({lat:t.latitude,lng:t.longitude})},position:{lat:t.latitude,lng:t.longitude},onCloseClick:function(){return n({})},children:Object(l.jsxs)("div",{style:{padding:5},children:[Object(l.jsx)("h3",{children:t.name}),Object(l.jsxs)("h4",{children:[t.city,", ",t.country]}),Object(l.jsxs)("p",{children:["Lease Term: ",t.lease_term_months," months"]}),Object(l.jsxs)("p",{children:["Monthly Rate: $",t.monthly_rate]})]})})})},d=function(e){var t=e.properties,n=null===t||void 0===t?void 0:t.map((function(e){return{location:new window.google.maps.LatLng(e.latitude,e.longitude),weight:e.total_views/3e3}}));return Object(l.jsx)(o.b,{data:n,options:{dissipating:!1,radius:1,maxIntensity:50}})},j=function(e){var t=e.properties,n=e.setSelected;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(o.e,{position:{lat:e.latitude,lng:e.longitude},onClick:function(){return n(e)}},e._id)}))})},p=function(e){var t=e.setCity,n=Object(r.useState)(""),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(l.jsx)("div",{id:"searchbar",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(l.jsxs)("label",{children:["Search by City:",Object(l.jsx)("input",{type:"text",name:"name",value:c,onChange:function(e){a(e.target.value)}})]}),Object(l.jsx)("input",{type:"submit",value:"Submit"})]})})},b=n(6),h=n.n(b);function O(e){var t=e.response;t&&t.data&&t.data.error?console.error("HTTP Error: ".concat(t.data.error)):console.error("Error: ",e)}function m(e){return e.data}h.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",h.a.defaults.headers.common.Accept="application/json";var x={getProperties:function(e){return h.a.get("/api/properties").then(m).then(e).catch(O)},getPropertiesByCity:function(e,t){return h.a.get("/api/properties/".concat(e)).then(m).then(t).catch(O)}},f=["visualization"];var g=function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)([]),a=Object(s.a)(c,2),b=a[0],h=a[1],O=Object(r.useState)({lat:43.641382,lng:-79.431819}),m=Object(s.a)(O,2),g=m[0],v=m[1],y=Object(r.useState)(""),S=Object(s.a)(y,2),C=S[0],w=S[1];return Object(r.useEffect)((function(){""!==C&&x.getPropertiesByCity(C,(function(e){return h(e)}))}),[C]),Object(l.jsx)("div",{id:"App",children:Object(l.jsxs)(o.d,{googleMapsApiKey:"AIzaSyCBVpAC8wFtAVox-4Xev_HOcsqe1Xhd1-s",libraries:f,children:[Object(l.jsx)(p,{setCity:w}),Object(l.jsxs)(o.a,{mapContainerStyle:{width:"100vw",height:"100vh"},center:g,zoom:10,children:[Object(l.jsx)(j,{properties:b,setSelected:i}),Object(l.jsx)(u,{selected:n,setSelected:i,setCenter:v}),Object(l.jsx)(d,{properties:b})]})]})})};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d46e5c5e.chunk.js.map