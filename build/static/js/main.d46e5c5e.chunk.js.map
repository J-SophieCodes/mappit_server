{"version":3,"sources":["components/Modal.jsx","components/Heatmap.jsx","components/Markers.jsx","components/Searchbar.jsx","lib/ApiClient.js","components/App.jsx","index.js"],"names":["Modal","selected","setSelected","setCenter","id","latitude","onLoad","lat","lng","longitude","position","onCloseClick","style","padding","name","city","country","lease_term_months","monthly_rate","Heatmap","properties","heatmapData","map","property","location","window","google","maps","LatLng","weight","total_views","data","options","dissipating","radius","maxIntensity","Markers","onClick","_id","Searchbar","setCity","useState","input","setInput","onSubmit","e","preventDefault","type","value","onChange","target","logError","errorResponse","response","error","console","unwrapData","axios","defaults","headers","common","apiClient","getProperties","callback","get","then","catch","getPropertiesByCity","LIBRARIES","App","setProperties","center","useEffect","ApiClient","googleMapsApiKey","process","libraries","mapContainerStyle","width","height","zoom","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d46e5c5e.chunk.js","sourcesContent":["import React from 'react';\nimport { InfoWindow } from '@react-google-maps/api';\n\n\nconst Modal = ({ selected, setSelected, setCenter }) => {\n\n  return (\n    <div id=\"modal\">\n      {(selected.latitude) && (\n        <InfoWindow\n          onLoad={() => setCenter({ lat: selected.latitude, lng: selected.longitude })}\n          position={{ lat: selected.latitude, lng: selected.longitude }}\n          onCloseClick={() => setSelected({})}\n        >\n          <div style={{ padding: 5 }}>\n            <h3>{selected.name}</h3>\n            <h4>{selected.city}, {selected.country}</h4>\n            <p>Lease Term: {selected.lease_term_months} months</p>\n            <p>Monthly Rate: ${selected.monthly_rate}</p>\n          </div>\n      </InfoWindow>\n      )}\n\n    </div>\n  );\n};\n\nexport default Modal;","import React from 'react';\nimport { HeatmapLayer } from '@react-google-maps/api';\n\nconst Heatmap = ({ properties }) => {\n  const heatmapData = properties?.map(property => {\n    return {\n      location: new window.google.maps.LatLng(property.latitude, property.longitude),\n      weight: property.total_views/3000\n    };\n  });\n\n  return (\n    <HeatmapLayer\n      data={heatmapData}\n      options={{dissipating: false, radius: 1, maxIntensity: 50}}\n    />\n  );\n};\n\nexport default Heatmap;","import React from 'react';\nimport { Marker } from '@react-google-maps/api';\n\nconst Markers = ({ properties, setSelected }) => {\n  return (\n    <>\n      {properties.map(property => {\n        return (\n          <Marker\n            key={property._id}\n            position={{ lat: property.latitude, lng: property.longitude }}\n            onClick={() => setSelected(property)}\n          />\n        )\n      })}\n    </>\n  );\n};\n\nexport default Markers;\n\n          ","import React, { useState } from 'react';\n\nconst Searchbar = ({ setCity }) => {\n  const [input, setInput] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setCity(input);\n  }\n\n  const handleInputChange = (e) => {\n    setInput(e.target.value);\n  }\n\n  return (\n    <div id=\"searchbar\">\n      <form onSubmit={handleSubmit}>\n        <label>\n          Search by City:\n          <input type=\"text\" name=\"name\" value={input} onChange={handleInputChange}/>\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  );\n}\n\nexport default Searchbar;","import axios from \"axios\";\n\nfunction logError(errorResponse) {\n  const response = errorResponse.response;\n\n  if (response && response.data && response.data.error) {\n    console.error(`HTTP Error: ${response.data.error}`);\n  } else {\n    console.error(\"Error: \", errorResponse);\n  }\n}\n\nfunction unwrapData(response) {\n  return response.data;\n}\n\naxios.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\";\naxios.defaults.headers.common[\"Accept\"] = \"application/json\";\n\nconst apiClient = {\n  getProperties: function(callback) {\n    return axios\n      .get(\"/api/properties\")\n      .then(unwrapData)\n      .then(callback)\n      .catch(logError);\n  },\n\n  getPropertiesByCity: function(city, callback) {\n    return axios\n    .get(`/api/properties/${city}`)\n    .then(unwrapData)\n    .then(callback)\n    .catch(logError);\n  }\n};\n\nexport default apiClient;\n","import { useState, useEffect } from 'react';\nimport Modal from './Modal';\nimport Heatmap from './Heatmap';\nimport Markers from './Markers';\nimport Searchbar from './Searchbar';\nimport ApiClient from '../lib/ApiClient';\n\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\n\nconst LIBRARIES = [\"visualization\"];\n\nfunction App() {\n  const [selected, setSelected] = useState({});\n  const [properties, setProperties] = useState([]);\n  const [center, setCenter] = useState({ lat: 43.641382, lng: -79.431819 });\n  const [city, setCity] = useState(\"\");\n\n  useEffect(() => { \n    if (city !== \"\") ApiClient.getPropertiesByCity(city, data => setProperties(data));\n  }, [city])\n\n  return (\n    <div id=\"App\">\n      <LoadScript\n        googleMapsApiKey={process.env.REACT_APP_API_KEY}\n        libraries={LIBRARIES}\n      >\n\n        <Searchbar setCity={setCity} />\n\n        <GoogleMap\n          mapContainerStyle={{ width: '100vw', height: '100vh' }}\n          center={center}\n          zoom={10}\n        >\n          \n          <Markers properties={properties} setSelected={setSelected} />\n          <Modal selected={selected} setSelected={setSelected} setCenter={setCenter} />\n          <Heatmap properties={properties} />\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}