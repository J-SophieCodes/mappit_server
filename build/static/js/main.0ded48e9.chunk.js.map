{"version":3,"sources":["components/Modal.jsx","components/Heatmap.jsx","components/Markers.jsx","lib/ApiClient.js","components/App.jsx","index.js"],"names":["Modal","selected","setSelected","setCenter","id","latitude","onLoad","lat","lng","longitude","position","onCloseClick","style","padding","name","city","country","lease_term_months","monthly_rate","total_views","Heatmap","properties","heatmapData","map","property","location","window","google","maps","LatLng","weight","data","options","dissipating","radius","maxIntensity","Markers","onClick","_id","logError","errorResponse","response","error","console","unwrapData","axios","defaults","headers","common","apiClient","getProperties","callback","get","then","catch","LIBRARIES","App","useState","setProperties","center","useEffect","ApiClient","googleMapsApiKey","process","libraries","mapContainerStyle","width","height","zoom","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MA4BeA,EAxBD,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UAEtC,OACE,qBAAKC,GAAG,QAAR,SACIH,EAASI,UACT,cAAC,IAAD,CACEC,OAAQ,kBAAMH,EAAU,CAAEI,IAAKN,EAASI,SAAUG,IAAKP,EAASQ,aAChEC,SAAU,CAAEH,IAAKN,EAASI,SAAUG,IAAKP,EAASQ,WAClDE,aAAc,kBAAMT,EAAY,KAHlC,SAKE,sBAAKU,MAAO,CAAEC,QAAS,GAAvB,UACE,6BAAKZ,EAASa,OACd,+BAAKb,EAASc,KAAd,KAAsBd,EAASe,WAC/B,6CAAgBf,EAASgB,kBAAzB,aACA,gDAAmBhB,EAASiB,gBAC5B,4BAAIjB,EAASkB,sBCAVC,EAhBC,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WACXC,EAAW,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAYE,KAAI,SAAAC,GAClC,MAAO,CACLC,SAAU,IAAIC,OAAOC,OAAOC,KAAKC,OAAOL,EAASnB,SAAUmB,EAASf,WACpEqB,OAAQN,EAASL,YAAY,QAIjC,OACE,cAAC,IAAD,CACEY,KAAMT,EACNU,QAAS,CAACC,aAAa,EAAOC,OAAQ,EAAGC,aAAc,OCK9CC,EAhBC,SAAC,GAAiC,IAA/Bf,EAA8B,EAA9BA,WAAYnB,EAAkB,EAAlBA,YAC7B,OACE,mCACGmB,EAAWE,KAAI,SAAAC,GACd,OACE,cAAC,IAAD,CAEEd,SAAU,CAAEH,IAAKiB,EAASnB,SAAUG,IAAKgB,EAASf,WAClD4B,QAAS,kBAAMnC,EAAYsB,KAFtBA,EAASc,W,gBCP1B,SAASC,EAASC,GAChB,IAAMC,EAAWD,EAAcC,SAE3BA,GAAYA,EAASV,MAAQU,EAASV,KAAKW,MAC7CC,QAAQD,MAAR,sBAA6BD,EAASV,KAAKW,QAE3CC,QAAQD,MAAM,UAAWF,GAI7B,SAASI,EAAWH,GAClB,OAAOA,EAASV,KAGlBc,IAAMC,SAASC,QAAQC,OAAO,oBAAsB,iBACpDH,IAAMC,SAASC,QAAQC,OAAvB,OAA0C,mBAE1C,IAUeC,EAVG,CAChBC,cAAe,SAASC,GACtB,OAAON,IACJO,IAAI,mBACJC,KAAKT,GACLS,KAAKF,GACLG,MAAMf,KCjBPgB,EAAY,CAAC,iBA+BJC,MA7Bf,WAAgB,IAAD,EACmBC,mBAAS,IAD5B,mBACNxD,EADM,KACIC,EADJ,OAEuBuD,mBAAS,IAFhC,mBAENpC,EAFM,KAEMqC,EAFN,OAGeD,mBAAS,CAAElD,IAAK,UAAWC,KAAM,YAHhD,mBAGNmD,EAHM,KAGExD,EAHF,KASb,OAJAyD,qBAAU,WACRC,EAAUX,eAAc,SAAAnB,GAAI,OAAI2B,EAAc3B,QAC7C,IAGD,qBAAK3B,GAAG,MAAR,SACE,cAAC,IAAD,CACE0D,iBAAkBC,0CAClBC,UAAWT,EAFb,SAIE,eAAC,IAAD,CACEU,kBAAmB,CAAEC,MAAO,QAASC,OAAQ,SAC7CR,OAAQA,EACRS,KAAM,GAHR,UAKE,cAAC,EAAD,CAAS/C,WAAYA,EAAYnB,YAAaA,IAC9C,cAAC,EAAD,CAAOD,SAAUA,EAAUC,YAAaA,EAAaC,UAAWA,IAChE,cAAC,EAAD,CAASkB,WAAYA,YC3B/BgD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.0ded48e9.chunk.js","sourcesContent":["import React from 'react';\nimport { InfoWindow } from '@react-google-maps/api';\n\n\nconst Modal = ({ selected, setSelected, setCenter }) => {\n\n  return (\n    <div id=\"modal\">\n      {(selected.latitude) && (\n        <InfoWindow\n          onLoad={() => setCenter({ lat: selected.latitude, lng: selected.longitude })}\n          position={{ lat: selected.latitude, lng: selected.longitude }}\n          onCloseClick={() => setSelected({})}\n        >\n          <div style={{ padding: 5 }}>\n            <h3>{selected.name}</h3>\n            <h4>{selected.city}, {selected.country}</h4>\n            <p>Lease Term: {selected.lease_term_months} months</p>\n            <p>Monthly Rate: ${selected.monthly_rate}</p>\n            <p>{selected.total_views}</p>\n          </div>\n      </InfoWindow>\n      )}\n\n    </div>\n  );\n};\n\nexport default Modal;","import React from 'react';\nimport { HeatmapLayer } from '@react-google-maps/api';\n\nconst Heatmap = ({ properties }) => {\n  const heatmapData = properties?.map(property => {\n    return {\n      location: new window.google.maps.LatLng(property.latitude, property.longitude),\n      weight: property.total_views/3000\n    };\n  });\n\n  return (\n    <HeatmapLayer\n      data={heatmapData}\n      options={{dissipating: false, radius: 1, maxIntensity: 50}}\n    />\n  );\n};\n\nexport default Heatmap;","import React from 'react';\nimport { Marker } from '@react-google-maps/api';\n\nconst Markers = ({ properties, setSelected }) => {\n  return (\n    <>\n      {properties.map(property => {\n        return (\n          <Marker\n            key={property._id}\n            position={{ lat: property.latitude, lng: property.longitude }}\n            onClick={() => setSelected(property)}\n          />\n        )\n      })}\n    </>\n  );\n};\n\nexport default Markers;\n\n          ","import axios from \"axios\";\n\nfunction logError(errorResponse) {\n  const response = errorResponse.response;\n\n  if (response && response.data && response.data.error) {\n    console.error(`HTTP Error: ${response.data.error}`);\n  } else {\n    console.error(\"Error: \", errorResponse);\n  }\n}\n\nfunction unwrapData(response) {\n  return response.data;\n}\n\naxios.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\";\naxios.defaults.headers.common[\"Accept\"] = \"application/json\";\n\nconst apiClient = {\n  getProperties: function(callback) {\n    return axios\n      .get(\"/api/properties\")\n      .then(unwrapData)\n      .then(callback)\n      .catch(logError);\n  },\n};\n\nexport default apiClient;\n","import React, { useState, useEffect } from 'react';\nimport Modal from './Modal';\nimport Heatmap from './Heatmap';\nimport Markers from './Markers';\nimport ApiClient from '../lib/ApiClient';\n\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\n\nconst LIBRARIES = [\"visualization\"];\n\nfunction App() {\n  const [selected, setSelected] = useState({});\n  const [properties, setProperties] = useState([]);\n  const [center, setCenter] = useState({ lat: 43.641382, lng: -79.431819 });\n\n  useEffect(() => { \n    ApiClient.getProperties(data => setProperties(data));\n  }, [])\n\n  return (\n    <div id=\"App\">\n      <LoadScript\n        googleMapsApiKey={process.env.REACT_APP_API_KEY}\n        libraries={LIBRARIES}\n      >\n        <GoogleMap\n          mapContainerStyle={{ width: '100vw', height: '100vh' }}\n          center={center}\n          zoom={10}\n        >\n          <Markers properties={properties} setSelected={setSelected} />\n          <Modal selected={selected} setSelected={setSelected} setCenter={setCenter} />\n          <Heatmap properties={properties} />\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}